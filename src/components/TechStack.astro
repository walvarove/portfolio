---
import ReusableSection from "./ReusableSection.astro";
import { skills } from "../content/skills";

const tierColors: Record<string, string> = {
    main: "text-foreground/80 border-border bg-secondary/40",
    secondary: "text-foreground/50 border-border/60 bg-secondary/20",
    familiar: "text-foreground/35 border-border/40 bg-transparent",
    other: "text-foreground/35 border-border/40 bg-transparent",
    databases: "text-cyan-400/35 border-cyan-400/15 bg-cyan-400/5",
    orms: "text-foreground/35 border-border/40 bg-transparent",
};
---

<ReusableSection key="skills">
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        {
            skills.map((category) => (
                <div class="rounded-lg border border-border bg-card/50 p-4 hover:border-cyan-400/20 transition-colors duration-300">
                    <p class="text-[10px] font-mono text-cyan-400/70 mb-3 tracking-widest uppercase">
                        {category.label}
                    </p>
                    <div class="flex flex-wrap gap-1.5">
                        {Object.entries(category)
                            .filter(([k]) => k !== "label")
                            .flatMap(([tier, items]) =>
                                (items as string[]).map((item) => (
                                    <span
                                        class={`px-2 py-0.5 rounded text-[11px] font-mono border transition-colors cursor-default ${tierColors[tier] ?? tierColors.main}`}
                                    >
                                        {item}
                                    </span>
                                )),
                            )}
                    </div>
                </div>
            ))
        }
    </div>
</ReusableSection>
